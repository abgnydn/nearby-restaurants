<!doctype html>
<html class="docs-version-v3" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v0.0.0-4192">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-TKMGCBC",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<link rel="search" type="application/opensearchdescription+xml" title="Capacitor Documentation" href="/docs/opensearch.xml"><title data-react-helmet="true">Updating plugins to 3.0 | Capacitor Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://capacitorjs.com/docs/v3/updating/plugins/3-0"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v3"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v3"><meta data-react-helmet="true" property="og:title" content="Updating plugins to 3.0 | Capacitor Documentation"><meta data-react-helmet="true" name="description" content="Guide for updating Capacitor from earlier versions to v3 in your plugin"><meta data-react-helmet="true" property="og:description" content="Guide for updating Capacitor from earlier versions to v3 in your plugin"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/meta/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://capacitorjs.com/docs/v3/updating/plugins/3-0"><link data-react-helmet="true" rel="alternate" href="https://capacitorjs.com/docs/v3/updating/plugins/3-0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://capacitorjs.com/docs/v3/updating/plugins/3-0" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://3IVALO5OU4-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.2802178e.css">
<link rel="preload" href="/docs/assets/js/runtime~main.50ab1cf5.js" as="script">
<link rel="preload" href="/docs/assets/js/main.d7343783.js" as="script">
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKMGCBC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://capacitorjs.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/logos/capacitor-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="24" width="200"><img src="/docs/logos/capacitor-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="24" width="200"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/v3/">Docs</a><a class="navbar__item navbar__link" href="/docs/v3/plugins">Plugins</a><a class="navbar__item navbar__link" href="/docs/v3/cli">CLI</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/v3/">v3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/updating/plugins/3-0">v5</a></li><li><a class="dropdown__link" href="/docs/updating/plugins/3-0">v4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v3/updating/plugins/3-0">v3</a></li><li><a class="dropdown__link" href="/docs/v2/">v2</a></li></ul></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--community">Community</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/community" target="_blank" class="dropdown__link"><span>Community Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://forum.ionicframework.com/" target="_blank" class="dropdown__link"><span>Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://blog.ionicframework.com/" target="_blank" class="dropdown__link"><span>Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://twitter.com/capacitorjs" target="_blank" class="dropdown__link"><span>Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--support">Support</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/support" target="_blank" class="dropdown__link"><span>Help Center<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionic.zendesk.com/" target="_blank" class="dropdown__link"><span>Customer Support<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionicframework.com/advisory" target="_blank" class="dropdown__link"><span>Enterprise Advisory<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div position="right" class="separator"></div><a position="right" class="icon-link navbar__item" href="https://twitter.com/capacitorjs" target="_blank"><img src="/docs/logos/twitter.svg" alt="twitter logo"></a><a position="right" class="icon-link navbar__item" href="https://github.com/ionic-team/capacitor" target="_blank"><img src="/docs/logos/github.svg" alt="github logo"></a><a position="right" class="icon-link navbar__item" href="https://ionic.link/discord" target="_blank"><img src="/docs/logos/discord.svg" alt="discord logo"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link icon-link language navbar__item"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/v3/updating/plugins/3-0" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="https://capacitorjs.jp/" target="_blank" class="dropdown__link">日本語</a></li></ul></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_GMj9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_k0Pq"><a href="https://capacitorjs.com" target="_self" rel="noopener noreferrer"><img src="/docs/logos/capacitor-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="24" width="200"><img src="/docs/logos/capacitor-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="24" width="200"></a><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a href="https://capacitorjs.com" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_hmkv"><img src="/docs/logos/capacitor-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="24" width="200"><img src="/docs/logos/capacitor-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="24" width="200"></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/getting-started/environment-setup">Environment Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/getting-started">Installing Capacitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/getting-started/with-ionic">Using with Ionic Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/getting-started/vscode-extension">Ionic VS Code Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/getting-started/templates">Capacitor Templates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Basics</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/basics/workflow">Development Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/basics/using-plugins">Using Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/basics/configuring-your-app">Configuring Your App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/basics/utilities">JavaScript Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Upgrade Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/updating/3-0">Updating to 3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/updating/2-0">Updating to 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/updating/1-1">Updating to 1.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/v3/updating/plugins/3-0">Updating plugins to 3.0</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Cordova/PhoneGap</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cordova">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cordova/migration-strategy">Migrating Strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cordova/migrating-from-cordova-to-capacitor">Cordova to Capacitor Migration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Concepts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/ads">Ads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/angular">Angular</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/automated-configuration">Automated Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/ci-cd">CI/CD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/deep-links">Deep Links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/deploying-updates">Deploying and Updating</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/environment-specific-configurations">Environment Specific Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/in-app-purchases">In App Purchases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/live-reload">Live Reload</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/mocking-plugins">Mocking Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/push-notifications-firebase">Push Notifications - Firebase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/react-hooks">React Hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/screen-orientation">Screen Orientation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/splash-screens-and-icons">Splash Screens and Icons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/storage">Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/guides/community">Community Guides</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">iOS</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios/configuration">Configuring iOS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios/custom-code">Custom Native iOS Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios/deploying-to-app-store">Deploying to App Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios/viewcontroller">Custom ViewController</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/ios/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Android</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/android">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/android/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/android/custom-code">Custom Native Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/android/deploying-to-google-play">Deploying to Google Play</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/android/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Web/PWA</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/web">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/web/progressive-web-apps">Building Progressive Web Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/web/pwa-elements">PWA Elements</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist" href="#">Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/config">Config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/core-apis/ios">Capacitor iOS API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/core-apis/android">Capacitor Android API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/core-apis/web">Capacitor Web API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/core-apis/data-types">Capacitor Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/core-apis/saving-calls">Persisting Plugin Calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/apis">Plugin APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli">CLI</a></li></ul></li></ul></nav></div></aside><div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://capacitorjs.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/logos/capacitor-text-docs-light.svg" alt="Site Logo" class="themedImage_TMUO themedImage--light_4Vu1" height="24" width="200"><img src="/docs/logos/capacitor-text-docs-dark.svg" alt="Site Logo" class="themedImage_TMUO themedImage--dark_uzRr" height="24" width="200"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/v3/">Docs</a><a class="navbar__item navbar__link" href="/docs/v3/plugins">Plugins</a><a class="navbar__item navbar__link" href="/docs/v3/cli">CLI</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/v3/">v3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/updating/plugins/3-0">v5</a></li><li><a class="dropdown__link" href="/docs/updating/plugins/3-0">v4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v3/updating/plugins/3-0">v3</a></li><li><a class="dropdown__link" href="/docs/v2/">v2</a></li></ul></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--community">Community</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/community" target="_blank" class="dropdown__link"><span>Community Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://forum.ionicframework.com/" target="_blank" class="dropdown__link"><span>Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://blog.ionicframework.com/" target="_blank" class="dropdown__link"><span>Blog<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://twitter.com/capacitorjs" target="_blank" class="dropdown__link"><span>Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link navbar__link--support">Support</a><ul class="dropdown__menu"><li><a href="https://ionicframework.com/support" target="_blank" class="dropdown__link"><span>Help Center<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionic.zendesk.com/" target="_blank" class="dropdown__link"><span>Customer Support<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://ionicframework.com/advisory" target="_blank" class="dropdown__link"><span>Enterprise Advisory<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div position="right" class="separator"></div><a position="right" class="icon-link navbar__item" href="https://twitter.com/capacitorjs" target="_blank"><img src="/docs/logos/twitter.svg" alt="twitter logo"></a><a position="right" class="icon-link navbar__item" href="https://github.com/ionic-team/capacitor" target="_blank"><img src="/docs/logos/github.svg" alt="github logo"></a><a position="right" class="icon-link navbar__item" href="https://ionic.link/discord" target="_blank"><img src="/docs/logos/discord.svg" alt="discord logo"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link icon-link language navbar__item"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/v3/updating/plugins/3-0" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="https://capacitorjs.jp/" target="_blank" class="dropdown__link">日本語</a></li></ul></div><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><main class="docMainContainer_Q970"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_MGa7"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Capacitor Documentation<!-- --> <b>v3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/updating/plugins/3-0">latest version</a></b> (<!-- -->v4<!-- -->).</div></div><div class="docItemContainer_PQH2"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->v3</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_psec"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Updating Capacitor to 3.0 in your plugin</h1></header><p>There are several required and recommended changes for plugins that are being updated to Capacitor 3.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="planning-for-a-core-api">Planning for a Core API<a aria-hidden="true" class="hash-link" href="#planning-for-a-core-api" title="Direct link to heading">​</a></h2><p>It is currently difficult for the core team to make changes to the internals of Capacitor without potentially affecting plugins. Because most classes and methods in Capacitor 2 are public for both iOS and Android, we have observed undesired usage of Capacitor APIs that we considered internal.</p><p>During Capacitor 3 development, we will be evaluating this problem and creating an official public API for plugins, which will be <a href="/docs/v3/core-apis">documented here</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="android">Android<a aria-hidden="true" class="hash-link" href="#android" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="use-the-new-capacitorplugin-annotation">Use the new <code>@CapacitorPlugin</code> annotation<a aria-hidden="true" class="hash-link" href="#use-the-new-capacitorplugin-annotation" title="Direct link to heading">​</a></h3><p>The <code>@NativePlugin</code> annotation is deprecated. We now recommend using the new <code>@CapacitorPlugin</code> annotation, which will allow for the <a href="#adopting-the-new-permissions-api">new permissions API</a>.</p><p>The <code>name</code> attribute is the same. The <code>requestCodes</code> and <code>permissionRequestCode</code> attributes are removed. The <code>permissions</code> attribute will need to be replaced with list of <code>@Permission</code> annotations, each containing a list of manifest strings and their corresponding <code>alias</code>, which you can omit for now until the new permissions API is implemented in your plugin.</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">@NativePlugin(</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">@CapacitorPlugin(</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    name = &quot;FooBar&quot;,</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">    requestCodes = {</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">        FooBarPlugin.REQUEST_SOME_METHOD,</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">        FooBarPlugin.REQUEST_SOME_OTHER_METHOD</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">    },</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">    permissionRequestCode = FooBarPlugin.REQUEST_ALL_PERMISSIONS,</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">    permissions = { Manifest.permission.FOO, Manifest.permission.BAR }</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    permissions = {</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        @Permission(strings = { Manifest.permission.FOO }, alias = &quot;foo&quot;),</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        @Permission(strings = { Manifest.permission.BAR }, alias = &quot;bar&quot;)</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    })</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">)</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">public class FooBarPlugin extends Plugin {</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    static final int REQUEST_SOME_METHOD = 10051;</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    static final int REQUEST_SOME_OTHER_METHOD = 10052;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="android-request-codes">Android request codes<a aria-hidden="true" class="hash-link" href="#android-request-codes" title="Direct link to heading">​</a></h3><p>Capacitor 3.0 implements the AndroidX Activity Result API and removes manually defined request codes. Instead of providing a request code and overriding <code>handleOnActivityResult</code> or <code>handleRequestPermissionsResult</code>, plugins should provide callback methods using the <code>@ActivityCallback</code> or <code>@PermissionCallback</code> annotations. These callbacks can then be referenced when launching a new Activity or Permission request.</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">static final int IMAGE_REQUEST = 10052;</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">@PluginMethod</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">public void chooseImage(PluginCall call) {</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    Intent intent = new Intent(Intent.ACTION_PICK);</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">    intent.setType(&quot;image/*&quot;);</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">    startActivityForResult(call, intent, IMAGE_REQUEST);</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    startActivityForResult(call, intent, &quot;chooseImageResult&quot;);</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">}</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">@ActivityCallback</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">private void chooseImageResult(PluginCall call, ActivityResult result) {</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    if (result.getResultCode() == Activity.RESULT_CANCELED) {</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        call.reject(&quot;Activity canceled&quot;);</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    } else {</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        Intent data = result.getData();</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        // do something with the result data</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">        call.resolve(&quot;Success!&quot;);</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">    }</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="use-webcolorparsecolor-over-colorparsecolor">Use WebColor.parseColor() over Color.parseColor()<a aria-hidden="true" class="hash-link" href="#use-webcolorparsecolor-over-colorparsecolor" title="Direct link to heading">​</a></h3><p>Android parses hex color strings with an alpha channel as <em>ARGB</em> while in iOS and Web they are parsed as <em>RGBA</em>. If you are sharing colors with alpha channels across platforms be sure to use the new <code>WebColor</code> utility. <code>WebColor.parseColor()</code> works similar to the native Android <code>Color.parseColor()</code> function, but parses the string as RGBA instead.</p><div class="codeBlockContainer_J+bg language-java"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token plain">String colorStringWithAlpha = &quot;#FF000088&quot;; // Semi-transparent red</span><br></span><span class="token-line"><span class="token plain">int color = WebColor.parseColor(colorStringWithAlpha);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If you do not have an alpha channel on your colors both functions will return the same result.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="change-default-compilesdkversion-and-targetsdkversion-to-30">Change default compileSdkVersion and targetSdkVersion to 30<a aria-hidden="true" class="hash-link" href="#change-default-compilesdkversion-and-targetsdkversion-to-30" title="Direct link to heading">​</a></h3><p>In <code>android/build.gradle</code> change <code>compileSdkVersion</code> and <code>targetSdkVersion</code> default values to <code>30</code>.</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token plain">android {</span><br></span><span class="token-line"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">   compileSdkVersion project.hasProperty(&#x27;compileSdkVersion&#x27;) ? rootProject.ext.compileSdkVersion : 29</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">   compileSdkVersion project.hasProperty(&#x27;compileSdkVersion&#x27;) ? rootProject.ext.compileSdkVersion : 30</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   defaultConfig {</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       minSdkVersion project.hasProperty(&#x27;minSdkVersion&#x27;) ? rootProject.ext.minSdkVersion : 21</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">       targetSdkVersion project.hasProperty(&#x27;targetSdkVersion&#x27;) ? rootProject.ext.targetSdkVersion : 29</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">       targetSdkVersion project.hasProperty(&#x27;targetSdkVersion&#x27;) ? rootProject.ext.targetSdkVersion : 30</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ...</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ...</span><br></span><span class="token-line"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ios">iOS<a aria-hidden="true" class="hash-link" href="#ios" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="weak-references">Weak References<a aria-hidden="true" class="hash-link" href="#weak-references" title="Direct link to heading">​</a></h3><p>The relationship between objects was updated in Capacitor 3 to fix memory leaks. The consequence is that a plugin&#x27;s references to objects higher in the hierarchy are now <code>weak</code>, which in Swift means they are optional. You are most likely to encounter this change when accessing <code>bridge</code> but it also applies to other properties such as <code>webView</code>. Calling a method on the bridge is relatively unchanged except that it now requires optional chaining:</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">bridge.presentVC(myViewController, animated: true, completion: nil)</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">bridge?.presentVC(myViewController, animated: true, completion: nil)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The biggest impact of this change is that all return values from the bridge will be optional as well. <a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html" target="_blank" rel="noopener noreferrer">Safely handling and unwrapping optionals can require extra steps</a>.</p><div class="codeBlockContainer_J+bg language-swift"><div class="codeBlockContent_csEI swift"><pre tabindex="0" class="prism-code language-swift codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token plain">if bridge?.isSimEnvironment {</span><br></span><span class="token-line"><span class="token plain">     // BAD: Will not compile. The boolean is optional (because `bridge` is optional)</span><br></span><span class="token-line"><span class="token plain">     // and must be unwrapped before it can be evaluated.</span><br></span><span class="token-line"><span class="token plain">}</span><br></span><span class="token-line"><span class="token plain">if bridge?.isSimEnvironment == true {</span><br></span><span class="token-line"><span class="token plain">     // NEUTRAL: An explicit comparison with an optional will work for a boolean but</span><br></span><span class="token-line"><span class="token plain">     // may not be suitable for all data types.</span><br></span><span class="token-line"><span class="token plain">}</span><br></span><span class="token-line"><span class="token plain">if let isSim = bridge?.isSimEnvironment, isSim {</span><br></span><span class="token-line"><span class="token plain">     // GOOD: Using optional binding to unwrap the optional before examining its value.</span><br></span><span class="token-line"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="bridge-changes">Bridge Changes<a aria-hidden="true" class="hash-link" href="#bridge-changes" title="Direct link to heading">​</a></h3><p>In addition to the reference changing from <code>strong</code> to <code>weak</code>, the API of the bridge itself has been updated (it is now exposed via a more formal protocol). Many of the properties and methods have been renamed but backwards support exists where possible by preserving and deprecating the old interfaces. Xcode will be able to automatically suggest the newer replacement in most cases. You should migrate any existing code so your plugin can build without compiler warnings.</p><p><img alt="Xcode autocorrect suggestion" src="/docs/assets/images/bridge-naming-migration-333ce23cb2ba6157e8d129f2a8b25d7f.png"></p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="capplugincall-parameters"><code>CAPPluginCall</code> Parameters<a aria-hidden="true" class="hash-link" href="#capplugincall-parameters" title="Direct link to heading">​</a></h3><p>Capacitor includes a collection of convenience methods (<code>getString</code>, <code>getDate</code>, etc.) on <code>CAPPluginCall</code> to access the data passed from JavaScript to a plugin method. These have been updated for Capacitor 3.</p><ul><li><code>get()</code> has been removed. If you want to access the arguments directly, read the <code>options</code> dictionary.</li><li><code>hasOption</code> has been deprecated. Use one of the typed accessors to check for a value.</li><li>Any accessor that takes a default value now requires a non-optional default but returns a non-optional result. This can change the optionality of your local variables but should reduce the usage of force unwrapping, which is an anti-pattern in Swift.</li><li>The behavior around dates and null values has been slightly changed and better documented. <a href="/docs/v3/core-apis/data-types#ios">Find more information here</a>.</li><li>The Obj-C convenience accessors have been split out to avoid conflicts with the Swift implementations. If you are working in Obj-C, you will need to import them separately by adding <code>#import &lt;Capacitor/CAPBridgedJSTypes.h&gt;</code> to your <code>.m</code> file.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="changes-to-plugincall--capplugincall">Changes to <code>PluginCall</code> &amp; <code>CAPPluginCall</code><a aria-hidden="true" class="hash-link" href="#changes-to-plugincall--capplugincall" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="use-resolve-and-reject">Use <code>resolve()</code> and <code>reject()</code><a aria-hidden="true" class="hash-link" href="#use-resolve-and-reject" title="Direct link to heading">​</a></h3><p>We believe <code>resolve()</code> and <code>reject()</code> better reflect the Promise-like flow intended for plugin methods. They should be preferred over <code>success()</code> and <code>error()</code> (now deprecated), even in callback-style plugin methods.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="resolve-without-arguments-now-resolves-with-undefined"><code>resolve()</code> without arguments now resolves with <code>undefined</code><a aria-hidden="true" class="hash-link" href="#resolve-without-arguments-now-resolves-with-undefined" title="Direct link to heading">​</a></h3><p>Previously, calling <code>resolve()</code> with no arguments resulted in an empty object being sent to the JavaScript layer. Because this is unlike the behavior of JavaScript&#x27;s <code>Promise.resolve()</code>, as of Capacitor 3, <code>undefined</code> is sent instead.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="saving-calls">Saving calls<a aria-hidden="true" class="hash-link" href="#saving-calls" title="Direct link to heading">​</a></h3><p>The <code>save()</code> method has deprecated and a replacement <code>keepAlive</code> property has been added. The recommended patterns for saving a call have been documented to clarify the behavior. <a href="/docs/v3/core-apis/saving-calls">Read more about that here</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="set-ios-deployment-target-to-120">Set iOS deployment target to 12.0<a aria-hidden="true" class="hash-link" href="#set-ios-deployment-target-to-120" title="Direct link to heading">​</a></h3><p>Do the following for the Plugin Xcode project and Plugin target: open the <strong>Build Settings</strong> tab. Under the <strong>Deployment</strong> section, change <strong>iOS Deployment Target</strong> to <strong>iOS 12.0</strong>.</p><p>Then, open <code>ios/Podfile</code> and update the iOS version to 12.0:</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">platform :ios, &#x27;11.0&#x27;</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">platform :ios, &#x27;12.0&#x27;</span><br></span><span class="token-line"><span class="token inserted-sign inserted line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">use_frameworks!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Finally, open <code>pluginName.podspec</code> and update the iOS version to 12.0:</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">s.ios.deployment_target  = &#x27;11.0&#x27;</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">s.ios.deployment_target  = &#x27;12.0&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="set-swift-version-to-5">Set Swift version to 5<a aria-hidden="true" class="hash-link" href="#set-swift-version-to-5" title="Direct link to heading">​</a></h3><p>Open the <strong>Build Settings</strong> tab in your Xcode target, then change <strong>Swift Language Version</strong> to <strong>Swift 5</strong> under the <strong>Swift Compiler - Language</strong> section.</p><p>Then, open <code>pluginName.podspec</code> and update the Swift version to 5.1:</p><div class="codeBlockContainer_J+bg language-diff"><div class="codeBlockContent_csEI diff"><pre tabindex="0" class="prism-code language-diff codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line">s.swift_version = &#x27;4.2&#x27;</span><br></span><span class="token-line"><span class="token deleted-sign deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line">s.swift_version = &#x27;5.1&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="web">Web<a aria-hidden="true" class="hash-link" href="#web" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="registering-plugins">Registering Plugins<a aria-hidden="true" class="hash-link" href="#registering-plugins" title="Direct link to heading">​</a></h3><p>The <code>registerWebPlugin(MyPlugin)</code> function has been deprecated. We recommend using the new <code>registerPlugin</code> function and lazily loading the web (and optionally, electron) plugins as shown below.</p><div class="codeBlockContainer_J+bg language-typescript"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar"><code class="codeBlockLines_1zSZ"><span class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> registerPlugin </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;@capacitor/core&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token keyword">type</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> CoolPlugin </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./definitions&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> MyCoolPlugin </span><span class="token operator">=</span><span class="token plain"> </span><span class="token generic-function function">registerPlugin</span><span class="token generic-function generic class-name operator">&lt;</span><span class="token generic-function generic class-name">CoolPlugin</span><span class="token generic-function generic class-name operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#x27;MyCoolPlugin&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token function-variable function">web</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./web&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token plain">m </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">m</span><span class="token punctuation">.</span><span class="token function">MyCoolPluginWeb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token comment">// electron: () =&gt; (&quot;./electron&quot;).then(m =&gt; new m.MyCoolPluginElectron())</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./definitions&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> MyCoolPlugin </span><span class="token punctuation">}</span><span class="token punctuation">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="set-typescript-output-to-es2017">Set TypeScript output to es2017<a aria-hidden="true" class="hash-link" href="#set-typescript-output-to-es2017" title="Direct link to heading">​</a></h3><p>If you are using TypeScript to develop your web plugins, we recommend you set the output target to <code>es2017</code> in your <code>tsconfig.json</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="evaluate-error-handling">Evaluate error handling<a aria-hidden="true" class="hash-link" href="#evaluate-error-handling" title="Direct link to heading">​</a></h2><p>We are now recommending that plugin authors make use of the new error codes in Capacitor 3:</p><ul><li><strong>Unavailable</strong>: indicates the functionality can&#x27;t be used right now</li><li><strong>Unimplemented</strong>: indicates the functionality can&#x27;t or won&#x27;t be implemented, or may be implemented in the future</li></ul><p>Read more about Error Handling for <a href="/docs/v3/plugins/web#error-handling">Web</a>, <a href="/docs/v3/plugins/ios#error-handling">iOS</a>, and <a href="/docs/v3/plugins/android#error-handling">Android</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="adopting-the-new-permissions-api">Adopting the new Permissions API<a aria-hidden="true" class="hash-link" href="#adopting-the-new-permissions-api" title="Direct link to heading">​</a></h2><p>Prior to 3.0, it was expected that permissions were automatically requested by a plugin before feature use. For example, a Geolocation plugin would automatically request permission when the user location was requested for the first time and then continue appropriately if the permission was granted or denied.</p><p>One goal of Capacitor 3 is to give app developers the ability to request or check permissions at any time and control how and when the user prompts are presented. This provides more flexibility in the user experience by allowing the app to respond to the user&#x27;s choice in a variety of ways.</p><p>It is perfectly fine to continue automatically requesting permissions, but you are encouraged to adopt the new permissions pattern as well to give app developers control over permissions.</p><p><a href="/docs/v3/plugins/web#permissions">Learn how to implement the Permissions API in your plugin <!-- -->›</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ionic-team/capacitor-docs/edit/main/versioned_docs/version-v3/main/updating/plugins/3-0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-edit iconEdit_PItR"><path d="M7 0C3.13438 0 0 3.21563 0 7.17813C0 10.35 2.00625 13.0375 4.7875 13.9875C4.83125 13.9969 4.86875 14 4.90625 14C5.16563 14 5.26562 13.8094 5.26562 13.6438C5.26562 13.4719 5.25938 13.0219 5.25625 12.4219C4.99375 12.4812 4.75938 12.5063 4.55 12.5063C3.20313 12.5063 2.89687 11.4594 2.89687 11.4594C2.57812 10.6313 2.11875 10.4094 2.11875 10.4094C1.50938 9.98125 2.11562 9.96875 2.1625 9.96875H2.16563C2.86875 10.0312 3.2375 10.7125 3.2375 10.7125C3.5875 11.325 4.05625 11.4969 4.475 11.4969C4.80312 11.4969 5.1 11.3906 5.275 11.3094C5.3375 10.8469 5.51875 10.5312 5.71875 10.35C4.16563 10.1688 2.53125 9.55313 2.53125 6.80312C2.53125 6.01875 2.80312 5.37813 3.25 4.87813C3.17812 4.69688 2.9375 3.96563 3.31875 2.97813C3.31875 2.97813 3.36875 2.9625 3.475 2.9625C3.72812 2.9625 4.3 3.05937 5.24375 3.71562C5.80312 3.55625 6.4 3.47812 6.99687 3.475C7.59062 3.47812 8.19063 3.55625 8.75 3.71562C9.69375 3.05937 10.2656 2.9625 10.5188 2.9625C10.625 2.9625 10.675 2.97813 10.675 2.97813C11.0563 3.96563 10.8156 4.69688 10.7437 4.87813C11.1906 5.38125 11.4625 6.02187 11.4625 6.80312C11.4625 9.55937 9.825 10.1656 8.26562 10.3438C8.51562 10.5656 8.74063 11.0031 8.74063 11.6719C8.74063 12.6313 8.73125 13.4062 8.73125 13.6406C8.73125 13.8094 8.82812 14 9.0875 14C9.125 14 9.16875 13.9969 9.2125 13.9875C11.9969 13.0375 14 10.3469 14 7.17813C14 3.21563 10.8656 0 7 0Z" fill="currentColor"></path></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/v3/updating/1-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Updating to 1.1</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/v3/cordova"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview<!-- --> »</div></a></div></nav></div><div class="spacer"></div></div><div class="end"><div class="toc-wrapper"><h2>Contents</h2><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#planning-for-a-core-api" class="table-of-contents__link toc-highlight">Planning for a Core API</a></li><li><a href="#android" class="table-of-contents__link toc-highlight">Android</a><ul><li><a href="#use-the-new-capacitorplugin-annotation" class="table-of-contents__link toc-highlight">Use the new <code>@CapacitorPlugin</code> annotation</a></li><li><a href="#android-request-codes" class="table-of-contents__link toc-highlight">Android request codes</a></li><li><a href="#use-webcolorparsecolor-over-colorparsecolor" class="table-of-contents__link toc-highlight">Use WebColor.parseColor() over Color.parseColor()</a></li><li><a href="#change-default-compilesdkversion-and-targetsdkversion-to-30" class="table-of-contents__link toc-highlight">Change default compileSdkVersion and targetSdkVersion to 30</a></li></ul></li><li><a href="#ios" class="table-of-contents__link toc-highlight">iOS</a><ul><li><a href="#weak-references" class="table-of-contents__link toc-highlight">Weak References</a></li><li><a href="#bridge-changes" class="table-of-contents__link toc-highlight">Bridge Changes</a></li><li><a href="#capplugincall-parameters" class="table-of-contents__link toc-highlight"><code>CAPPluginCall</code> Parameters</a></li></ul></li><li><a href="#changes-to-plugincall--capplugincall" class="table-of-contents__link toc-highlight">Changes to <code>PluginCall</code> &amp; <code>CAPPluginCall</code></a><ul><li><a href="#use-resolve-and-reject" class="table-of-contents__link toc-highlight">Use <code>resolve()</code> and <code>reject()</code></a></li><li><a href="#resolve-without-arguments-now-resolves-with-undefined" class="table-of-contents__link toc-highlight"><code>resolve()</code> without arguments now resolves with <code>undefined</code></a></li><li><a href="#saving-calls" class="table-of-contents__link toc-highlight">Saving calls</a></li><li><a href="#set-ios-deployment-target-to-120" class="table-of-contents__link toc-highlight">Set iOS deployment target to 12.0</a></li><li><a href="#set-swift-version-to-5" class="table-of-contents__link toc-highlight">Set Swift version to 5</a></li></ul></li><li><a href="#web" class="table-of-contents__link toc-highlight">Web</a><ul><li><a href="#registering-plugins" class="table-of-contents__link toc-highlight">Registering Plugins</a></li><li><a href="#set-typescript-output-to-es2017" class="table-of-contents__link toc-highlight">Set TypeScript output to es2017</a></li></ul></li><li><a href="#evaluate-error-handling" class="table-of-contents__link toc-highlight">Evaluate error handling</a></li><li><a href="#adopting-the-new-permissions-api" class="table-of-contents__link toc-highlight">Adopting the new Permissions API</a></li></ul></div><a href="https://github.com/ionic-team/capacitor-docs/edit/main/versioned_docs/version-v3/main/updating/plugins/3-0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-edit iconEdit_PItR"><path d="M7 0C3.13438 0 0 3.21563 0 7.17813C0 10.35 2.00625 13.0375 4.7875 13.9875C4.83125 13.9969 4.86875 14 4.90625 14C5.16563 14 5.26562 13.8094 5.26562 13.6438C5.26562 13.4719 5.25938 13.0219 5.25625 12.4219C4.99375 12.4812 4.75938 12.5063 4.55 12.5063C3.20313 12.5063 2.89687 11.4594 2.89687 11.4594C2.57812 10.6313 2.11875 10.4094 2.11875 10.4094C1.50938 9.98125 2.11562 9.96875 2.1625 9.96875H2.16563C2.86875 10.0312 3.2375 10.7125 3.2375 10.7125C3.5875 11.325 4.05625 11.4969 4.475 11.4969C4.80312 11.4969 5.1 11.3906 5.275 11.3094C5.3375 10.8469 5.51875 10.5312 5.71875 10.35C4.16563 10.1688 2.53125 9.55313 2.53125 6.80312C2.53125 6.01875 2.80312 5.37813 3.25 4.87813C3.17812 4.69688 2.9375 3.96563 3.31875 2.97813C3.31875 2.97813 3.36875 2.9625 3.475 2.9625C3.72812 2.9625 4.3 3.05937 5.24375 3.71562C5.80312 3.55625 6.4 3.47812 6.99687 3.475C7.59062 3.47812 8.19063 3.55625 8.75 3.71562C9.69375 3.05937 10.2656 2.9625 10.5188 2.9625C10.625 2.9625 10.675 2.97813 10.675 2.97813C11.0563 3.96563 10.8156 4.69688 10.7437 4.87813C11.1906 5.38125 11.4625 6.02187 11.4625 6.80312C11.4625 9.55937 9.825 10.1656 8.26562 10.3438C8.51562 10.5656 8.74063 11.0031 8.74063 11.6719C8.74063 12.6313 8.73125 13.4062 8.73125 13.6406C8.73125 13.8094 8.82812 14 9.0875 14C9.125 14 9.16875 13.9969 9.2125 13.9875C11.9969 13.0375 14 10.3469 14 7.17813C14 3.21563 10.8656 0 7 0Z" fill="currentColor"></path></svg>Edit this page</a></div></div></div></div></main></div></div></div></div>
<script src="/docs/assets/js/runtime~main.50ab1cf5.js"></script>
<script src="/docs/assets/js/main.d7343783.js"></script>
</body>
</html>